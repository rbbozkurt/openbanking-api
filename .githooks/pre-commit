#!/bin/bash

echo "ğŸ§¹ Auto-fixing code with ktlintFormat..."
./gradlew ktlintFormat

echo "ğŸ” Running ktlintCheck..."
./gradlew ktlintCheck
if [ $? -ne 0 ]; then
  echo "âŒ ktlint check failed even after auto-format. Please fix manually."
  exit 1
fi

echo "ğŸ” Running detekt..."
./gradlew detekt
if [ $? -ne 0 ]; then
  echo "âŒ detekt check failed. Please fix before committing."
  exit 1
fi

echo "âœ… All checks passed. Proceeding with commit."
